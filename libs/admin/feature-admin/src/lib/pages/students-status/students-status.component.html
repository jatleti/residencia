<div class="p-2 md:p-8">
    <p-card>
        <div class="flex gap-3 mb-3 justify-between w-full p-5 px-8">
            <components-h1 class="mb-5 block text-primary-500 text-center md:text-start">Asistencias</components-h1>
            <div *ngIf="isPermitted([Permissions.STUDENT.LIST])" class="flex-0 pt-6">
                <div class="mb-3">
                    <button (click)="init()" pButton pRipple type="button">
                        <i class="fa-sharp fa-solid fa-refresh me-2"></i> Actualizar
                    </button>
                </div>
            </div>
        </div>
        <div class="flex gap-8 items-cente p-8">
            <div class="flex-1 w-full mx-auto max-w-[1000px] shadow-sm rounded-md p-8">
                <div class="text-3xl font-bold text-primary-500 mb-8">Usuarios en el centro</div>
                <div class="grid grid-cols-4 gap-4">
                    <div *ngFor="let student of studentsCenter" class="text-center font-bold text-xl">
                        <div
                            *ngIf="student.photo && student.photo !== ''"
                            (click)="viewStudent(student)"
                            class="image flex items-center max-w-[200px] mx-auto mb-3 aspect-square overflow-hidden rounded-full border-8 cursor-pointer"
                            [class.border-green-500]="
                                student.Attendances && student.Attendances.length > 0 && !student.Attendances[0].to
                            "
                            [class.border-red-500]="
                                student.Attendances && student.Attendances.length > 0 && student.Attendances[0].to
                            "
                        >
                            <img src="{{ student.photo }}" />
                        </div>
                        {{ student.name }} {{ student.surname }}
                    </div>
                </div>
            </div>
            <div class="flex-1 w-full mx-auto max-w-[1000px] shadow-sm rounded-md p-8">
                <div class="text-3xl font-bold text-primary-500 mb-8">Comedor</div>
                <div class="grid grid-cols-4 gap-4">
                    <div *ngFor="let student of studentDinner" class="text-center font-bold text-xl">
                        <div
                            *ngIf="student.photo && student.photo !== ''"
                            (click)="viewStudent(student)"
                            class="image flex items-center max-w-[200px] mx-auto mb-3 aspect-square overflow-hidden rounded-full border-8 cursor-pointer"
                            [class.border-green-500]="
                                student.Attendances && student.Attendances.length > 0 && !student.Attendances[0].to
                            "
                            [class.border-red-500]="
                                student.Attendances && student.Attendances.length > 0 && student.Attendances[0].to
                            "
                        >
                            <img src="{{ student.photo }}" />
                        </div>
                        {{ student.name }} {{ student.surname }}
                    </div>
                </div>
            </div>
        </div>
    </p-card>
</div>
